@let products = products$ | async;
<section class="px-8 mx-auto md:max-w-screen-lg xl:px-0 pt-28 border-x border-dashed border-gray-200 py-20">
  @if (products?.isLoading) {
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5">
      @for (i of [1, 3, 4, 5, 6, 6, 7, 7, 7]; track $index) {
        <app-product-card-skeleton />
      }
    </div>
  }
  @if (products?.data) {
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5">
      @for (
        p of products?.data
          | paginate: { itemsPerPage: 12, currentPage: currentPage(), totalItems: products?.data?.length };
        track p.id
      ) {
        <app-product-card [product]="p" />
      }
    </div>

    @if (products?.data?.length > 12) {
      <div class="flex justify-center mt-12">
        <pagination-controls nextLabel="" previousLabel="" [maxSize]="5" (pageChange)="onPageChange($event)" class="pg">
        </pagination-controls>
      </div>
    }
  }
</section>
